<?xml version="1.0" encoding="utf-8"?>
<installer-gui-script minSpecVersion="2">
    <title>DTU Python Development Environment</title>
    <organization>dk.dtu</organization>
    <domains enable_localSystem="true"/>
    
    <!-- Installer configuration -->
    <options customize="never" require-scripts="false" rootVolumeOnly="false" hostArchitectures="arm64,x86_64"/>
    <volume-check>
        <allowed-os-versions>
            <os-version min="10.15"/>
        </allowed-os-versions>
    </volume-check>
    
    <!-- Define documents displayed at various steps -->
    <readme file="Introduction.rtf" mime-type="text/rtf"/>
    <license file="Licence.rtf" mime-type="text/rtf"/>
    <conclusion file="Summary.rtf" mime-type="text/rtf"/>
    
    
    <!-- List all component packages -->
    <pkg-ref id="dk.dtu.python.constructor" 
             version="1.0.0" 
             auth="root">DTU-Python-Stack.pkg</pkg-ref>
             
    <pkg-ref id="dk.dtu.vscode.component" 
             version="1.0.0" 
             auth="root">DTU-VSCode.pkg</pkg-ref>
    
    <!-- Define the order of installation -->
    <choices-outline>
        <line choice="default">
            <line choice="dk.dtu.python.constructor"/>
            <line choice="dk.dtu.vscode.component"/>
        </line>
    </choices-outline>
    
    <!-- Define the choices -->
    <choice id="default" title="DTU Python Development Environment" description="Complete Python development environment with Visual Studio Code">
        <pkg-ref id="dk.dtu.python.constructor"/>
        <pkg-ref id="dk.dtu.vscode.component"/>
    </choice>
    
    <choice id="dk.dtu.python.constructor" 
            title="Python Environment" 
            description="Python 3.11 with scientific computing packages (pandas, scipy, statsmodels, uncertainties, dtumathtools)"
            enabled="true"
            selected="true"
            visible="true">
        <pkg-ref id="dk.dtu.python.constructor"/>
    </choice>
    
    <choice id="dk.dtu.vscode.component" 
            title="Visual Studio Code" 
            description="Visual Studio Code with Python development extensions and configuration"
            enabled="true"
            selected="true"
            visible="true">
        <pkg-ref id="dk.dtu.vscode.component"/>
    </choice>
    
</installer-gui-script>